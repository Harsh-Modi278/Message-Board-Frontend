(this["webpackJsonpmessage-board-frontend"]=this["webpackJsonpmessage-board-frontend"]||[]).push([[0],{157:function(e){e.exports=JSON.parse('{"HOME":"/","BOARD":"/boards"}')},220:function(e,t,n){},221:function(e,t,n){},452:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(38),o=n.n(a),s=(n(220),n(12)),i=n(33),l=n(524),d=(n(221),n(23)),j=n(21),b=n(521),u=n(527),h=n(525),p=n(454),x=n(561),m=n(523),O=n(157),f=n(118),g=n(186),v=n(187),y=n(539),w=n(520),k=n(1),C=["node","inline","className","children"],S=function(e){var t=e.body;return Object(k.jsx)(g.a,{children:t,linkTarget:"_blank",remarkPlugins:[v.a],components:{code:function(e){e.node;var t=e.inline,n=e.className,r=e.children,c=Object(f.a)(e,C),a=/language-(\w+)/.exec(n||"");return!t&&a?Object(k.jsx)("pre",{children:Object(k.jsx)(y.a,{children:String(r).replace(/\n$/,""),language:"javascript",style:w.a})}):Object(k.jsx)("code",Object(j.a)(Object(j.a)({className:n},c),{},{children:r}))}}})},_=function(e){var t=new Date-new Date(e);t/=1e3;var n=Math.floor(t/86400);t-=86400*n;var r=Math.floor(t/3600)%24;t-=3600*r;var c=Math.floor(t/60)%60;t-=60*c;var a="";return n>0&&(a+="".concat(n,"d ")),r>0&&(a+="".concat(r,"h ")),(0===n&&0===r&&0===c||c>0)&&(a+="".concat(c,"m ")),a+="ago"},T=Object(b.a)({card:{display:"flex"},cardDetails:{flex:1},cardMedia:{width:160}}),D=function(e){var t=T(),n=e.post;return Object(k.jsx)(i.b,{to:"".concat(O.BOARD,"/").concat(n.board_id),style:{textDecoration:"none"},children:Object(k.jsx)(x.a,{className:t.card,children:Object(k.jsx)("div",{className:t.cardDetails,children:Object(k.jsxs)(m.a,{children:[Object(k.jsx)(p.a,{component:"div",variant:"h4",color:"primary",children:n.board_name}),Object(k.jsx)(p.a,{variant:"bottom text",component:"span",color:"secondary",children:"".concat(n.upvotes," upvote").concat(n.upvotes>1?"s":""," | ").concat(n.comments_count," comment").concat(n.comments_count>1?"s":""," | submitted ").concat(_(n.time_created))}),Object(k.jsx)("br",{}),Object(k.jsx)(p.a,{variant:"subtitle1",paragraph:!0,component:"p",children:Object(k.jsx)(S,{body:n.preview&&n.preview.slice(0,400)+(n.preview.length>400?"...":"")})}),Object(k.jsx)(p.a,{variant:"subtitle1",color:"primary",component:"em",children:"Continue reading..."})]})})})})},E=n(22),B=n.n(E),I=n(39),z=function(e){var t=Object(r.useState)(null),n=Object(s.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(!0),i=Object(s.a)(o,2),l=i[0],d=i[1],j=Object(r.useState)(null),b=Object(s.a)(j,2),u=b[0],h=b[1],p=function(){var t=Object(I.a)(B.a.mark((function t(){var n,r,c,o;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new AbortController,r={method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",cache:"default",signal:n.signal},t.prev=2,t.next=5,fetch(e,r);case 5:if((c=t.sent).ok){t.next=8;break}throw Error("Could not fetch data for that resource");case 8:return t.next=10,c.json();case 10:o=t.sent,d(!1),a(o),h(null),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),20===t.t0.code?console.log("fetch aborted"):(h(t.t0.message),d(!1));case 19:return t.abrupt("return",(function(){n.abort()}));case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){p()}),[e]),{data:c,isPending:l,error:u}},N="https://message-boards-backend.herokuapp.com",U=function(e){var t=e.sort,n=z("".concat(N,"/api/boards/")+(t&&"?sort=".concat(t))),r=n.data,c=n.isPending,a=n.error;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(l.a,{}),a&&Object(k.jsx)("div",{children:a}),c&&Object(k.jsx)("div",{children:"Loading..."}),Object(k.jsx)("main",{style:{paddingTop:"1rem"},children:Object(k.jsx)(h.a,{spacing:2,justifyContent:"space-evenly",children:r&&r.map((function(e){return Object(k.jsx)(D,{post:e},e.board_id)}))})})]})},F=n(548),P=n(542),J=n(545),M=n(555),G=n(538),W=n(529),R=Object(r.createContext)({sortBoards:"best",sortComments:"best"}),L=Object(b.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(12,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),q=function(e){L();var t=Object(r.useContext)(R),n=t.filters,c=t.setFilters;return Object(k.jsx)("div",{style:{display:"flex",flexDirection:"column",flex:"1",padding:"2rem"},children:Object(k.jsxs)(u.a,{maxWidth:"lg",children:[Object(k.jsx)(F.a,{sx:{minWidth:50,paddingBottom:"1rem"},children:Object(k.jsxs)(M.a,{children:[Object(k.jsx)(P.a,{id:"demo-simple-select-label",children:"Sort by"}),Object(k.jsxs)(G.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n.sortBoards,label:"Sort By",onChange:function(e){c(Object(j.a)(Object(j.a)({},n),{},{sortBoards:e.target.value}))},children:[Object(k.jsx)(J.a,{value:"best",children:"best"}),Object(k.jsx)(J.a,{value:"new",children:"new"}),Object(k.jsx)(J.a,{value:"old",children:"old"}),Object(k.jsx)(J.a,{value:"comments count",children:"comments count"})]})]})}),Object(k.jsx)(W.a,{}),Object(k.jsx)(U,{sort:n.sortBoards})]})})},A=n(121),Y=n(556),H=n(541),X=n(530),Z=n(546),V=n(114),$=n.n(V),K=n(171),Q=n.n(K),ee=n(172),te=n.n(ee),ne=n(531),re=Object(r.createContext)(null),ce=function(e){var t=Object(r.useContext)(re),n=t.user,c=(t.setUser,e.comments),a=e.handleCommentDelete,o=e.handleCommentUpvote,s=e.handleCommentDownvote;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("br",{}),0===c.length?Object(k.jsx)(p.a,{gutterBottom:!0,variant:"h5",align:"center",color:"primary",children:"There are no replies on this thread! You can be the first one to contribute."}):Object(k.jsx)(Y.a,{sx:{width:"100%",bgcolor:"background.paper"},component:"div","aria-label":"mailbox folders",children:c.map((function(e){return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(k.jsx)(Z.a,{alt:e.username,src:e.imageurl,sx:{margin:1}}),Object(k.jsx)(H.a,{alignItems:"center",children:Object(k.jsx)(X.a,{primary:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(p.a,{variant:"h5",component:"span",color:"secondary",children:Object(k.jsx)("strong",{children:e.username})}),Object(k.jsx)(p.a,{variant:"subtitle2",component:"span",children:"  | submitted ".concat(_(e.time))})]}),secondary:Object(k.jsx)(S,{body:e.comment})})})]}),Object(k.jsxs)(H.a,{style:{display:"flex",justifyContent:"flex-end"},children:[n&&n.user_id===e.user_id&&Object(k.jsx)(ne.a,{onClick:function(t){return a(t,e.comment_id)},children:Object(k.jsx)($.a,{})}),Object(k.jsx)(ne.a,{onClick:function(t){o(t,e.comment_id)},children:Object(k.jsx)(Q.a,{})}),Object(k.jsx)(p.a,{variant:"h6",component:"span",children:e.upvotes}),Object(k.jsx)(ne.a,{onClick:function(t){s(t,e.comment_id)},children:Object(k.jsx)(te.a,{})})]}),Object(k.jsx)(W.a,{variant:"inset",component:"li"})]},e.comment_id)}))})]})},ae=n(559),oe=n(543),se=n(178),ie=n.n(se),le=n(549),de=n(173),je=n.n(de),be=n(175),ue=n.n(be),he=n(174),pe=n.n(he),xe=n(176),me=n.n(xe),Oe=n(537),fe=n(557),ge=n(115),ve=n.n(ge),ye=n(177),we=n.n(ye),ke=n(558),Ce=Object(b.a)((function(e){return{root:{display:"flex"},appBarRoot:{flexGrow:1},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},content:{flexGrow:1,marginTop:"5rem",padding:e.spacing(4)},large:{width:e.spacing(7),height:e.spacing(7)}}})),Se=function(e){var t=Ce(),n=e.match.params.boardId,c=Object(r.useContext)(re),a=c.user,o=(c.setUser,Object(r.useContext)(R)),l=o.filters,b=o.setFilters,u=Object(r.useState)(!1),h=Object(s.a)(u,2),p=h[0],x=h[1],m=Object(r.useState)(!1),O=Object(s.a)(m,2),f=O[0],g=O[1],v=Object(r.useState)(!1),y=Object(s.a)(v,2),w=y[0],C=y[1],T=Object(r.useState)({}),D=Object(s.a)(T,2),E=D[0],z=D[1],U=Object(r.useState)(""),L=Object(s.a)(U,2),q=L[0],V=L[1],K=Object(r.useState)([]),Q=Object(s.a)(K,2),ee=Q[0],te=Q[1],ne=Object(d.g)();Object(r.useEffect)((function(){fetch("".concat(N,"/api/boards/").concat(n,"/comments/")+(l&&"?sort=".concat(l.sortComments))).then((function(e){return e.json()})).then((function(e){te(e)})),fetch("".concat(N,"/api/boards/").concat(n)).then((function(e){return e.json()})).then((function(e){z(e)})),fetch("".concat(N,"/api/boards/").concat(n,"/users/").concat(a.user_id,"/?operation=upvote")).then((function(e){return e.json()})).then((function(e){g(null===e||void 0===e?void 0:e.done)})),fetch("".concat(N,"/api/boards/").concat(n,"/users/").concat(a.user_id,"/?operation=downvote")).then((function(e){return e.json()})).then((function(e){C(null===e||void 0===e?void 0:e.done)}))}),[]);var se="error",de="Error in deleting the comment, please try again!",be=function(){var e=Object(I.a)(B.a.mark((function e(t,r){var c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/api/boards/").concat(n,"/comments/").concat(r),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({user_id:a.user_id})});case 3:if((c=e.sent).ok){e.next=8;break}throw new Error("Error when deleting a comment");case 8:return e.next=10,c.json();case 10:e.sent,fetch("".concat(N,"/api/boards/").concat(n,"/comments/")+(l&&"?sort=".concat(l.sortComments))).then((function(e){return e.json()})).then((function(e){te(e)}));case 12:e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),se="error",de="Error in deleting the comment, please try again!",x(!0);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(I.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/api/boards/").concat(n,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({user_id:a.user_id,comment:q})});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Error in posting user auth data to backend");case 6:return e.next=8,t.json();case 8:e.sent,V(""),fetch("".concat(N,"/api/boards/").concat(n,"/comments/")+(l&&"?sort=".concat(l.sortComments))).then((function(e){return e.json()})).then((function(e){te(e)})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(I.a)(B.a.mark((function e(t){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("".concat(N,"/api/boards"),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.user_id,board_id:n})});case 4:if((r=e.sent).ok){e.next=11;break}throw se="error",de="Could not delete the post, please try again",new Error(de);case 11:return e.next=13,r.json();case 13:e.sent,ne.push("/");case 15:e.next=23;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0.message),se="error",de="Could not delete the post, please try again",x(!0);case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(I.a)(B.a.mark((function e(t){var r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/api/boards/").concat(n,"/downvote"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.user_id})});case 3:if((r=e.sent).ok){e.next=8;break}throw new Error("Unable to downvote the board.");case 8:return e.next=10,r.json();case 10:0!==(c=e.sent).upvotes?C(!w):C(!1),g(!1),z(Object(j.a)(Object(j.a)({},E),c));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(I.a)(B.a.mark((function e(t){var r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/api/boards/").concat(n,"/upvote"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.user_id})});case 3:if((r=e.sent).ok){e.next=8;break}throw new Error("Unable to upvote the board.");case 8:return e.next=10,r.json();case 10:0!==(c=e.sent).upvotes?g(!f):g(!1),C(!1),z(Object(j.a)(Object(j.a)({},E),c));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(I.a)(B.a.mark((function e(t,n){var r,c,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/api/comments/").concat(n,"/upvote"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.user_id})});case 3:if((r=e.sent).ok){e.next=8;break}throw new Error("Unable to upvote the comment.");case 8:return e.next=10,r.json();case 10:c=e.sent,o=(o=ee).map((function(e){return e.comment_id!==c.comment_id||(e.upvotes=c.upvotes),e})),te(o);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(I.a)(B.a.mark((function e(t,n){var r,c,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/api/comments/").concat(n,"/downvote"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.user_id})});case 3:if((r=e.sent).ok){e.next=8;break}throw new Error("Unable to downvote the comment.");case 8:return e.next=10,r.json();case 10:c=e.sent,o=(o=ee).map((function(e){return e.comment_id!==c.comment_id||(e.upvotes=c.upvotes),e})),te(o);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(fe.a,{in:p,children:Object(k.jsx)(Oe.a,{severity:se,action:Object(k.jsx)(le.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){x(!1)},children:Object(k.jsx)(ve.a,{fontSize:"inherit"})}),sx:{mb:2},children:de})}),Object(k.jsx)("div",{className:t.root,children:Object(k.jsxs)("div",{style:{padding:"2rem",flexGrow:"1"},children:[Object(k.jsxs)(F.a,{sx:{display:"flex"},children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",paddingRight:"2rem"},children:[Object(k.jsx)(le.a,{onClick:ye,children:f?Object(k.jsx)(je.a,{style:{fontSize:"150%"}}):Object(k.jsx)(pe.a,{style:{fontSize:"150%"}})}),Object(k.jsx)(A.a,{variant:"h4",component:"div",style:{marginLeft:"1rem"},children:E&&E.upvotes}),Object(k.jsx)(le.a,{onClick:ge,children:w?Object(k.jsx)(ue.a,{style:{fontSize:"150%"}}):Object(k.jsx)(me.a,{style:{fontSize:"150%"}})})]}),Object(k.jsx)(Y.a,{style:{flexGrow:1},children:Object(k.jsxs)(H.a,{children:[Object(k.jsx)("br",{}),Object(k.jsx)(X.a,{primary:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(i.b,{to:"/boards/".concat(n),style:{textDecoration:"none"},children:Object(k.jsx)(A.a,{variant:"h5",component:"h5",color:"primary",children:Object(k.jsx)("strong",{children:E&&(null===E||void 0===E?void 0:E.board_name)})})}),Object(k.jsx)(A.a,{variant:"subtitle2",component:"span",children:"  submitted ".concat(_(E&&(null===E||void 0===E?void 0:E.time_created))," by ").concat(E&&(null===E||void 0===E?void 0:E.username))})]}),secondary:Object(k.jsx)(S,{body:E&&(null===E||void 0===E?void 0:E.board_description)})})]})})]}),Object(k.jsxs)("div",{style:{display:"flex",flex:"1",justifyContent:"space-evenly",alignItems:"center"},children:[Object(k.jsxs)(le.a,{children:[Object(k.jsx)(we.a,{}),Object(k.jsx)(A.a,{variant:"h6",children:ee?ee.length:0})]}),a.user_id===(E&&(null===E||void 0===E?void 0:E.user_id))&&Object(k.jsx)(ke.a,{variant:"contained",endIcon:Object(k.jsx)($.a,{}),color:"error",onClick:xe,children:"Delete"})]}),Object(k.jsx)("br",{}),Object(k.jsx)(W.a,{}),Object(k.jsx)("br",{}),a&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(F.a,{sx:{maxWidth:"100%",display:"flex",alignItems:"flex-end"},children:[Object(k.jsx)(ae.a,{children:Object(k.jsx)(Z.a,{alt:(null===a||void 0===a?void 0:a.name)||"John Does",src:null===a||void 0===a?void 0:a.imageUrl})}),Object(k.jsx)(oe.a,{fullWidth:!0,multiline:!0,label:"Add a comment",placeholder:"Add a comment",id:"outlined-multiline-flexible",maxRows:10,value:q,onChange:function(e){V(e.target.value)}}),Object(k.jsx)(le.a,{size:"40px",color:"inherit",onClick:he,children:Object(k.jsx)(ie.a,{})})]}),Object(k.jsx)("br",{}),Object(k.jsx)(W.a,{})]}),Object(k.jsx)("br",{}),Object(k.jsx)(F.a,{sx:{minWidth:50},children:Object(k.jsxs)(M.a,{children:[Object(k.jsx)(P.a,{id:"demo-simple-select-label",children:"Sort by"}),Object(k.jsxs)(G.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l.sortComments,label:"Sort By",onChange:function(e){b(Object(j.a)(Object(j.a)({},l),{},{sortComments:e.target.value})),fetch("".concat(N,"/api/boards/").concat(n,"/comments/")+(l&&"?sort=".concat(e.target.value))).then((function(e){return e.json()})).then((function(e){te(e)}))},children:[Object(k.jsx)(J.a,{value:"best",children:"best"}),Object(k.jsx)(J.a,{value:"new",children:"new"}),Object(k.jsx)(J.a,{value:"old",children:"old"})]})]})}),Object(k.jsx)(ce,{comments:ee||[],handleCommentDelete:be,handleCommentUpvote:Se,handleCommentDownvote:_e})]})})]})},_e=n(180),Te=n.n(_e),De=n(550),Ee=n(532),Be=n(179);function Ie(){var e=Object(r.useContext)(re),t=e.user,n=e.setUser,c=Object(d.g)(),a=function(){var e=Object(I.a)(B.a.mark((function e(t){var r,a,o,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({email:t.profileObj.email,name:t.profileObj.name,imageUrl:t.profileObj.imageUrl})});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Error in posting user auth data to backend");case 6:return e.next=8,r.json();case 8:a=e.sent,o=a.user_id,(s=t.profileObj).user_id=o,console.log(s),n(s),localStorage.setItem("userObj",JSON.stringify({profileObj:s,accessToken:t.accessToken})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:c.push("/");case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(De.a,{component:"main",maxWidth:"xs",sx:{marginBottom:30},children:[t&&Object(k.jsx)(d.a,{to:"/"}),Object(k.jsx)(Ee.a,{}),Object(k.jsxs)(F.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(k.jsx)(Z.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(k.jsx)(Te.a,{})}),Object(k.jsx)(A.a,{component:"h1",variant:"h5",children:"Sign in with Google"}),Object(k.jsx)(Be.GoogleLogin,{clientId:"801288704174-q3bgk8vntvbcmpqskbltrrosfds8oq8k.apps.googleusercontent.com",buttonText:"Sign In with Google",onSuccess:a,onFailure:function(e){n(null)},cookiePolicy:"single_host_origin",style:{marginTop:"100px"}})]})]})}var ze=n(535),Ne=n(181),Ue=n.n(Ne),Fe=n(182),Pe=n.n(Fe),Je=n(183),Me=n.n(Je),Ge=n(184),We=n.n(Ge),Re=n(533),Le=n(534),qe=function(e){return Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(F.a,{sx:{display:"flex",flex:"1",alignItems:"center",justifyContent:"center",gap:"10rem",margin:"auto"},children:Object(k.jsxs)(Re.a,{style:{display:"flex",flexDirection:"row"},children:[Object(k.jsx)(Le.a,{style:{margin:"2rem"},children:Object(k.jsx)(ze.a,{color:"inherit",href:"https://github.com/Harsh-Modi278",target:"_blank",sx:{cursor:"pointer"},children:Object(k.jsx)(Ue.a,{style:{fontSize:50}})})}),Object(k.jsx)(Le.a,{style:{margin:"2rem"},children:Object(k.jsx)(ze.a,{color:"inherit",href:"https://www.youtube.com/watch?v=o-YBDTqX_ZU",target:"_blank",sx:{cursor:"pointer"},children:Object(k.jsx)(Pe.a,{style:{fontSize:50}})})}),Object(k.jsx)(Le.a,{style:{margin:"2rem"},children:Object(k.jsx)(ze.a,{color:"inherit",href:"https://www.youtube.com/watch?v=o-YBDTqX_ZU",target:"_blank",sx:{cursor:"pointer"},children:Object(k.jsx)(Me.a,{style:{fontSize:50}})})}),Object(k.jsx)(Le.a,{style:{margin:"2rem"},children:Object(k.jsx)(ze.a,{color:"inherit",href:"https://www.youtube.com/watch?v=o-YBDTqX_ZU",target:"_blank",sx:{cursor:"pointer"},children:Object(k.jsx)(We.a,{style:{fontSize:50}})})})]})})})},Ae=n(536),Ye=n(560),He=["children","value","index"],Xe=function(e){var t=e.children,n=e.value,r=e.index,c=Object(f.a)(e,He);return Object(k.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},c),{},{children:n===r&&Object(k.jsx)(F.a,{sx:{p:3},children:Object(k.jsx)(A.a,{children:t})})}))},Ze=function(){var e=Object(r.useContext)(re),t=e.user,n=(e.setUser,Object(d.g)()),c=Object(r.useState)(""),a=Object(s.a)(c,2),o=a[0],i=a[1],l=Object(r.useState)(""),j=Object(s.a)(l,2),b=j[0],u=j[1],h=Object(r.useState)(0),p=Object(s.a)(h,2),x=p[0],m=p[1],O=Object(r.useState)(!1),f=Object(s.a)(O,2),g=f[0],v=f[1],y=function(){var e=Object(I.a)(B.a.mark((function e(r){var c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,fetch("".concat(N,"/api/boards"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({user_id:t.user_id,title:b,description:o})});case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Error in posting a new board");case 7:return e.next=9,c.json();case 9:e.sent,n.push("/"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),v(!0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(De.a,{component:"main",maxWidth:"ld",sx:{marginTop:8},children:[!t&&Object(k.jsx)(d.a,{to:"/login"}),Object(k.jsx)(fe.a,{in:g,children:Object(k.jsx)(Oe.a,{severity:"error",action:Object(k.jsx)(le.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){v(!1)},children:Object(k.jsx)(ve.a,{fontSize:"inherit"})}),sx:{mb:2},children:"Error in submitting the post, please try again!"})}),Object(k.jsxs)(Ae.a,{value:x,onChange:function(e,t){m(t)},"aria-label":"basic tabs example",centered:!0,children:[Object(k.jsx)(Ye.a,{label:"Draft"}),Object(k.jsx)(Ye.a,{label:"Preview"})]}),Object(k.jsx)(Ee.a,{}),Object(k.jsxs)(Xe,{value:x,index:0,children:[Object(k.jsx)(A.a,{component:"h1",variant:"h5",children:"Create a new board"}),Object(k.jsxs)(F.a,{component:"form",noValidate:!0,sx:{mt:1},children:[Object(k.jsx)(oe.a,{margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"title",autoFocus:!0,variant:"standard",value:b,onChange:function(e){u(e.target.value)}}),Object(k.jsx)(oe.a,{margin:"normal",required:!0,fullWidth:!0,name:"description",label:"You can use GitHub markdown to write the description here.",type:"description",id:"description",autoComplete:"description",multiline:!0,variant:"filled",value:o,onChange:function(e){i(e.target.value)}})]})]}),Object(k.jsxs)(Xe,{value:x,index:1,children:[Object(k.jsx)(A.a,{component:"h1",variant:"h5",children:"Markdown Preview:"}),Object(k.jsxs)("div",{style:{border:"1px black solid",padding:"2rem"},children:[Object(k.jsx)(A.a,{component:"h2",variant:"h2",align:"center",children:b}),Object(k.jsx)(S,{body:o})]})]}),Object(k.jsx)("div",{style:{display:"flex",flex:"1",justifyContent:"center",alignItems:"center"},children:Object(k.jsx)(ke.a,{type:"submit",variant:"contained",sx:{mt:3,mb:2},onClick:y,children:"Submit"})})]})},Ve=function(e){return Object(k.jsxs)(d.d,{children:[Object(k.jsx)(d.b,{exact:!0,path:"/",component:q}),Object(k.jsx)(d.b,{exact:!0,path:"/boards/:boardId",component:Se}),Object(k.jsx)(d.b,{exact:!0,path:"/login",component:Ie}),Object(k.jsx)(d.b,{exact:!0,path:"/contact",component:qe}),Object(k.jsx)(d.b,{exact:!0,path:"/NewBoard",component:Ze})]})},$e=n(4),Ke=[{title:"Add new board",url:"/newboard"},{title:"Contact",url:"/contact"}],Qe=n(6),et=n(455),tt=n(551),nt=n(552),rt=n(35),ct=n(188),at=n(138),ot=n.n(at),st=n(185),it=n.n(st),lt=(Object(Qe.a)("div")((function(e){var t=e.theme;return Object($e.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(et.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(et.a)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(3),width:"auto"})})),Object(Qe.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),Object(Qe.a)(rt.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object($e.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}})),function(){var e=Ke,t=Object(r.useContext)(re),n=t.user,c=t.setUser,a=Object(r.useState)(null),o=Object(s.a)(a,2),l=o[0],d=o[1],j=Object(r.useState)(null),b=Object(s.a)(j,2),u=b[0],h=b[1],p=Boolean(l),x=Boolean(u),m=function(e){d(e.currentTarget)},O=function(){h(null)},f="primary-search-account-menu",g=Object(k.jsx)(ct.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:f,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:function(){d(null),O()},children:Object(k.jsx)(J.a,{onClick:function(){c(null),localStorage.removeItem("userObj"),d(null),O()},children:"Logout"})}),v=Object(k.jsxs)(ct.a,{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:x,onClose:O,children:[n&&void 0!==e&&e.length>0&&e.map((function(e){return Object(k.jsx)(J.a,{onClick:m,children:Object(k.jsx)(i.b,{to:e.url,style:{textDecoration:"none",color:"black"},children:Object(k.jsx)(A.a,{variant:"h6",component:"h6",children:e.title})},e.title)},e.url)})),n&&Object(k.jsxs)(J.a,{onClick:m,children:[Object(k.jsx)(le.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(k.jsx)(ot.a,{})}),Object(k.jsx)("p",{children:"Profile"})]}),!n&&Object(k.jsx)(J.a,{onClick:m,children:Object(k.jsx)(i.b,{to:"/login",style:{flexShrink:"0",textDecoration:"none",color:"black"},children:Object(k.jsx)(A.a,{variant:"h6",component:"h6",children:"Sign In"})},"SignIn")})]});return Object(k.jsxs)(F.a,{children:[Object(k.jsx)(tt.a,{position:"static",children:Object(k.jsxs)(nt.a,{children:[Object(k.jsx)(i.b,{to:"/",style:{textDecoration:"none",color:"white"},children:Object(k.jsx)(A.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:Object(k.jsx)("strong",{children:"Message Board"})})}),Object(k.jsx)(F.a,{sx:{flexGrow:1}}),n&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{sx:{display:{xs:"none",md:"flex"}},children:void 0!==e&&e.length>0&&e.map((function(e){return Object(k.jsx)(i.b,{to:e.url,style:{padding:"1rem",flexShrink:"0",textDecoration:"none",color:"white"},children:Object(k.jsx)(A.a,{variant:"h6",component:"h6",children:e.title})},e.title)}))}),Object(k.jsx)(F.a,{sx:{display:{xs:"none",md:"flex"}},children:Object(k.jsx)(le.a,{size:"medium",edge:"end","aria-label":"account of current user","aria-controls":f,"aria-haspopup":"true",onClick:m,color:"inherit",children:Object(k.jsx)(ot.a,{})})})]}),!n&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(F.a,{sx:{display:{xs:"none",md:"flex"}},children:Object(k.jsx)(i.b,{to:"/login",style:{padding:"1rem",flexShrink:"0",textDecoration:"none",color:"white"},children:Object(k.jsx)(A.a,{variant:"h6",component:"h6",children:"Sign In"})},"SignIn")})}),Object(k.jsx)(F.a,{sx:{display:{xs:"flex",md:"none"}},children:Object(k.jsx)(le.a,{size:"medium","aria-label":"show more","aria-haspopup":"true",color:"inherit",onClick:function(e){h(e.currentTarget)},children:Object(k.jsx)(it.a,{})})})]})}),n&&Object(k.jsx)(k.Fragment,{children:g}),v]})}),dt=n(553);function jt(){return Object(k.jsxs)(A.a,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(k.jsx)(dt.a,{color:"inherit",href:"/",children:"Message Board"})," ",(new Date).getFullYear(),"."]})}var bt=function(e){return Object(k.jsx)(F.a,{component:"footer",sx:{py:3,px:2,mt:"auto",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[800]}},children:Object(k.jsx)(De.a,{maxWidth:"sm",children:Object(k.jsx)(jt,{})})})},ut=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"}}}));var ht=function(){var e,t,n=ut(),c=Object(r.useState)(null===(e=JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem("userObj")))||void 0===e?void 0:e.profileObj),a=Object(s.a)(c,2),o=a[0],d=a[1],j=Object(r.useState)({sortBoards:"best",sortComments:"best"}),b=Object(s.a)(j,2),u=b[0],h=b[1];return Object(k.jsx)("div",{className:n.root,children:Object(k.jsx)(re.Provider,{value:{user:o,setUser:d},children:Object(k.jsxs)(R.Provider,{value:{filters:u,setFilters:h},children:[Object(k.jsx)(l.a,{}),Object(k.jsxs)(i.a,{children:[Object(k.jsx)(lt,{}),Object(k.jsx)(Ve,{}),Object(k.jsx)(bt,{})]})]})})})};o.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(ht,{})}),document.getElementById("root"))}},[[452,1,2]]]);
//# sourceMappingURL=main.4fa2ea8e.chunk.js.map